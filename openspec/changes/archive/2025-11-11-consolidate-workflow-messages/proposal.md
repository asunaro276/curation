# 変更: ワークフローごとに1つの統合メッセージで記事を配信

## なぜ

現在、システムは収集した各記事に対して個別のSlackメッセージを送信しています。これはAPI利用回数に上限がある環境では問題があります。1回のワークフロー実行で10記事収集した場合、10回のSlack Webhook呼び出しが発生し、レート制限や利用上限に達するリスクが高まります。

複数の記事を1つのメッセージに統合することで、API呼び出し回数を大幅に削減し、コスト効率を向上させることができます。

## 何が変わるか

- **変更**: Slack通知の動作が、記事ごとの個別メッセージから、1ワークフローにつき1つの統合メッセージに変更されます
- 統合メッセージには、収集された全ての記事の要約が含まれます
- 記事間の待機時間（現在1-2秒）が不要になり、実行時間が短縮されます
- Block Kitのセクションを使用して、1つのメッセージ内で複数記事を見やすく配置します
- 各記事は独立したセクションブロックとして表示され、視認性を維持します

## 影響

### 影響を受ける仕様
- `slack-notification`: バッチ投稿のシナリオを修正

### 影響を受けるコード
- `lib/tech_news/notifiers/base.rb`: `notify_batch` メソッドの変更または新しいメソッドの追加
- `lib/tech_news/notifiers/slack_notifier.rb`: 統合メッセージのフォーマット機能を追加
- テストファイル: バッチ投稿の動作テストを更新

### メリット
- API呼び出し回数の大幅削減（10記事で1/10に）
- レート制限のリスク軽減
- ワークフロー実行時間の短縮（待機時間の削減）
- コスト効率の向上

### 潜在的なトレードオフ
- 1つのメッセージが長くなり、Slackメッセージサイズ制限（約40,000文字）に注意が必要
- 個別メッセージと比べてSlackでの通知の視認性がわずかに変わる可能性
