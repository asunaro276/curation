# 提案: 前日の記事のみを収集対象にする日付フィルタリング機能

## 概要
記事収集時に、前日の日本時間0時から24時の間に公開された記事のみを対象とするフィルタリング機能を追加します。これにより、毎日のキュレーションが前日の記事に絞られ、情報の鮮度と一貫性が向上します。

## 動機
現在のシステムでは、各ソースから取得した記事を公開日時に関係なく`max_articles_per_source`で数量制限しているだけです。このため、古い記事や未来の日時を持つ記事も含まれる可能性があり、「前日のニュース」という一貫した基準で情報をキュレーションできていません。

## 提案内容
1. **前日の定義**: システムの現在日時を基準として、前日の0時0分0秒から23時59分59秒までの範囲
2. **適用対象**: RSSCollector、GitHubTrendingCollectorの両方
3. **公開日時がない記事**: フィルタリング時に除外（ログに警告を記録）
4. **タイムゾーン処理**: システムのタイムゾーン（`Time.now`）を使用。GitHub Actionsの実行環境では環境変数`TZ=Asia/Tokyo`を設定してJSTで動作させる

## 期待される効果
- 毎日のキュレーションが「前日に公開された記事」という明確な基準で統一される
- 情報の鮮度が保たれる
- 古い記事や日付情報が不完全な記事が混入しない
- ユーザーが期待する「昨日のニュース」を正確に提供できる

## 影響範囲
- `lib/tech_news/collectors/base.rb`: 日付フィルタリングロジックの追加
- `lib/tech_news/collectors/rss_collector.rb`: フィルタリングメソッドの呼び出し
- `lib/tech_news/collectors/github_trending_collector.rb`: フィルタリングメソッドの呼び出し（存在する場合）
- `.github/workflows/run-curation.yml`: 環境変数`TZ=Asia/Tokyo`の追加
- テストファイル: 新規ロジックのユニットテスト追加

## リスクと懸念事項
- **公開日時がない記事が多い場合**: 収集される記事数が大幅に減少する可能性
- **タイムゾーン依存**: GitHub Actionsの実行時刻とタイムゾーン設定に依存
- **テストの複雑性**: 日付依存のロジックは時間を固定したテストが必要

## 代替案
1. **設定可能な日付範囲**: 「前日」をハードコードせず、設定ファイルで柔軟に範囲を指定可能にする
2. **日付情報がない記事の扱い**: 除外ではなく、取得時刻をデフォルト値として使用する
3. **明示的なJST処理**: システムのタイムゾーンに依存せず、`tzinfo` gemなどを使ってJSTを明示的に扱う

（今回は最もシンプルな実装として、システムタイムゾーンを使用し、公開日時がない記事は除外する方針を採用します）

## 関連する仕様
- `news-collection`: この変更は既存のニュース収集capabilityを拡張します
